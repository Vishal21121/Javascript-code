<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <h1 id="heading" class='yourhead rhia is'> Welcome to Code With Harry</h1>
        <div id="myfirst" class="child red good" id="first">child 1

            <ul class="this" id='myul'>
                <li class="childul" id='fui'>this</li>
                <li class="childul">is</li>
                <li class="childul">a</li>
                <li class="childul">list </li>
                <li class="childul" id='lui'>of my dreams</li>
        </div>
        <div class="child">child 2</div>
        <div class="child red">child 3</div>
        <div class="child">child 4</div>
        <form action="none.html" method="post">
            <a href="//codewithharry.com">Go to Code With Harry</a>
            <br>
            <br>
            Search this website: <input type="text" name="Hello" id="">
            <button id="btn">Submit form</button>
            <!-- <input type="button" id='btn' value="submit"> -->
        </form>
    </div>
    <br>
    <div class="no">this is a dummy div1</div>
    <div class="no">this is a dummy div2</div>
    <div class="no">this is a dummy div3</div>

    <div id="content">

    </div>
    <div class="container">
        <h1>Student List</h1>
        <ul id="students"></ul>
        <button id="myBtn" class="btn btn-primary">Your Button</button>
        <button class="btn btn-primary">Fetch Data</button>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>

    <script>
        console.log("Fetch api");
        // Button with id myBtn
        let myBtn = document.getElementById("myBtn");

        // div with id content
        let content = document.getElementById("content");

        // mechanism of fetch :
        //  at first fetch() returns a promise so we use then to see the resolve after that in return response also gives a promise which we handle by another .then


        //-------------------------------------GET REQUERST------------------------------------------

        // here we are using vishal.txt as url
        // function getData(){
        //     console.log("started getData");
        //     url="vishal.txt";
        //     // fetch is asynchronous so it will work in background
        //     fetch(url).then((response)=>{
        //         console.log('Inside First this');
        //         return response.text();
        //     }).then((data)=>{
        //         console.log("Inside second this");
        //         console.log(data);
        //     })
        // }

        function getData() {
            console.log("started getData");
            url = "https://api.github.com/users";
            // fetch is asynchronous so it will work in background
            fetch(url).then((response) => {
                console.log('Inside First this');
                // if we are getting json data from url then use json() inorder to parse json data
                return response.json();
            }).then((data) => {
                console.log("Inside second this");
                console.log(data);
            })
        }
        // console.log("Before running getData");
        // getData();
        // console.log('After running getData');
        // ----------------------------------------------------------------------------------------------

        // -------------------------------------POST REQUEST--------------------------


        function postData() {
            url = "https://reqres.in/api/users";
            data = {
                first_name: 'John',
                last_name: 'Adams',
                job_title: 'Software Engineer'
            };
            const options = {
                method: 'POST',
                headers: {
                    'content-type': 'application/json'
                },
                // if the data is any object then use JSON.stringify(data) and if data is string then directly use data.
                body: JSON.stringify(data)
            }
            fetch(url, options).then(response => response.json()
            ).then(data => console.log(data)
            )
        }
        postData();

    </script>


</body>

</html>